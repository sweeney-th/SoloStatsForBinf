\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={StatsInR},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\newcommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}

  \title{StatsInR}
    \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
    \author{}
    \preauthor{}\postauthor{}
    \date{}
    \predate{}\postdate{}
  

\begin{document}
\maketitle

\emph{note: indented blocks are excerpts from the tezt}

\subsection{Sampling \& Probability}\label{sampling-probability}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# pick random from 5 in a range of 1-40}
\KeywordTok{sample}\NormalTok{(}\DecValTok{1}\OperatorTok{:}\DecValTok{40}\NormalTok{,}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 20 34 12 35  9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# pick random from 5 in a range of 1-40}
\KeywordTok{sample}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\StringTok{"Tails"}\NormalTok{, }\StringTok{"Heads"}\NormalTok{), }\DecValTok{10}\NormalTok{, }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] "Heads" "Tails" "Tails" "Tails" "Tails" "Tails" "Heads" "Tails"
##  [9] "Heads" "Heads"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# pick random from 5 in a range of 1-40}
\KeywordTok{sample}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\StringTok{"Tails"}\NormalTok{, }\StringTok{"Heads"}\NormalTok{), }\DecValTok{10}\NormalTok{, }\DataTypeTok{replace =} \OtherTok{TRUE}\NormalTok{, }\DataTypeTok{prob =} \KeywordTok{c}\NormalTok{(}\FloatTok{0.9}\NormalTok{, }\FloatTok{0.1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] "Tails" "Tails" "Tails" "Tails" "Tails" "Tails" "Heads" "Tails"
##  [9] "Tails" "Tails"
\end{verbatim}

The ways of getting a given 5 number combination with no replacement:

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{1}\OperatorTok{/}\KeywordTok{choose}\NormalTok{(}\DecValTok{40}\NormalTok{,}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1.519738e-06
\end{verbatim}

\subsubsection{Discrete Distributions}\label{discrete-distributions}

\begin{figure}
\centering
\includegraphics{img/discrete.png}
\caption{}
\end{figure}

n and x are known as the binomial coefficients.

\subsection{Continuous Distributions}\label{continuous-distributions}

\subsubsection{Definitions}\label{definitions}

\begin{verbatim}
In order to model continuous data, we need to define random variables
that can obtain the value of any real number. Because there are infinitely
many numbers infinitely close, the probability of any particular value will
be zero, so there is no such thing as a point probability as for discrete-
valued random variables. Instead we have the concept of a density. This is
the infinitesimal probability of hitting a small region around x divided by
the size of the region. The cumulative distribution function can be defined
as before, and we have the relation:
\end{verbatim}

\begin{figure}
\centering
\includegraphics{img/continous.png}
\caption{}
\end{figure}

\paragraph{Uniform Distribution}\label{uniform-distribution}

\begin{verbatim}
The uniform distribution has a constant density over a specified interval (by
default [ 0, 1 ] ).
\end{verbatim}

\paragraph{Normal Distribution}\label{normal-distribution}

The normal distribution follows a bell curve, the exact shape of which
depends on the mean and standard deviation.

\begin{figure}
\centering
\includegraphics{img/normal.png}
\caption{}
\end{figure}

\subsubsection{Distributions in R}\label{distributions-in-r}

\begin{verbatim}
Four fundamental items can be calculated for a statistical distribution:
    â¢ Density or point probability
    â¢ Cumulated probability, distribution function
    â¢ Quantiles
    â¢ Pseudo-random numbers
\end{verbatim}

R has a function for each of these. Usng the normal distribution as an
example, there is \emph{dnorm} for density, \emph{pnorm} fo cumulative
probability, \emph{qnorm} for quantiles, and \emph{rnorm} for random.

\subsubsection{Meaning of Density}\label{meaning-of-density}

\begin{verbatim}
    The density for a continuous distribution is a measure of the relative prob-
    ability of âgetting a value close to xâ. The probability of getting a value in
    a particular interval is the area under the corresponding part of the curve.
    
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{curve}\NormalTok{(}\KeywordTok{dnorm}\NormalTok{(x), }\DataTypeTok{from =} \OperatorTok{-}\DecValTok{4}\NormalTok{, }\DataTypeTok{to =} \DecValTok{4}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{ProbabilityAndDistributions_files/figure-latex/Visualization of Normal Distribution-1.pdf}

The vaule is continous and thus represented by the area under the curve.
For discrete distributions, a histogram is more accurate:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# sample size}
\NormalTok{x <-}\StringTok{ }\DecValTok{0}\OperatorTok{:}\DecValTok{50}

\CommentTok{# binomial with odds of .33/.66}
\KeywordTok{plot}\NormalTok{(x, }\KeywordTok{dbinom}\NormalTok{(x, }\DataTypeTok{size =} \DecValTok{50}\NormalTok{, }\DataTypeTok{prob =} \FloatTok{0.33}\NormalTok{), }\DataTypeTok{type =} \StringTok{"h"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{ProbabilityAndDistributions_files/figure-latex/Binomial Histogram-1.pdf}

\subsubsection{Cumulitive Distribution
Functions}\label{cumulitive-distribution-functions}

These functions represent the chances of getting a value \emph{or less}
in the current distribution, for example, chances that x is 5 or lower.
These are the functions in R that start with ``p''.

\begin{verbatim}
Say that it is known that some biochemical measure in healthy individuals is well described by a normal distribution with a mean of 132 and a standard deviation of 13.
\end{verbatim}

If a patient has a value of 160, what percent of the population has it?

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# 100 minus the value of a 160 with given mean/sd}
\DecValTok{1} \OperatorTok{-}\StringTok{ }\KeywordTok{pnorm}\NormalTok{(}\DecValTok{160}\NormalTok{, }\DataTypeTok{mean =} \DecValTok{132}\NormalTok{, }\DataTypeTok{sd =} \DecValTok{13}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.01562612
\end{verbatim}

Eseentially, it returns the probability of getting something smaller
than you put into it:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{pnorm}\NormalTok{(}\DecValTok{160}\NormalTok{, }\DataTypeTok{mean =} \DecValTok{132}\NormalTok{, }\DataTypeTok{sd =} \DecValTok{13}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.9843739
\end{verbatim}

\begin{verbatim}
Twenty patients are given two treatments each (blindly and in randomized order) and then asked whether treatment A or B worked better. It turned out that 16 patients liked A better. The question is then whether this can be taken as sufficient evidence that A actually is the better treatment or whether the outcome might as well have happened by chance even if the treatments were equally good. If there was no difference between the two treatments, then we would expect the number of people favouring treatment A to be binomially distributed with p = 0.5 and n = 20. How (im)probable would it then be to obtain what we have observed?
\end{verbatim}

Essentially we're asking, what are the odds of this happening by
coincidence. Or: if we're dealing with 50/50 chances (the treatments are
the same), what are the odds we get 16 out of 20?

The odds of getting a 16 or lower are:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{pbinom}\NormalTok{(}\DecValTok{16}\NormalTok{, }\DataTypeTok{size =} \DecValTok{20}\NormalTok{, }\DataTypeTok{prob =} \FloatTok{0.5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.9987116
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# observations of phenomona}
\NormalTok{obs <-}\StringTok{ }\DecValTok{16}

\CommentTok{# number of reps}
\NormalTok{k <-}\StringTok{ }\DecValTok{20}

\CommentTok{# assuming there was no difference:}
\NormalTok{p <-}\StringTok{ }\FloatTok{0.5}
\end{Highlighting}
\end{Shaded}

odd thing: we need to subtract one from the 16 because we're ``going in
the other direction'' (not finding the left of the value on the curve),
and we need to count the 16 as part of the result that we're calculating

Thus as the books says ``we need the probability of the observed or more
extreme''

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# odds of 16 or higher being chance}
\DecValTok{1} \OperatorTok{-}\StringTok{ }\KeywordTok{pbinom}\NormalTok{(obs }\OperatorTok{-}\StringTok{ }\DecValTok{1}\NormalTok{, }\DataTypeTok{size =} \DecValTok{20}\NormalTok{, }\DataTypeTok{prob =} \FloatTok{0.5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.005908966
\end{verbatim}

It looks pretty unlikely this would be chance. This is intuitive if we
graph the results:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x <-}\StringTok{ }\DecValTok{1}\OperatorTok{:}\DecValTok{20}

\KeywordTok{plot}\NormalTok{(x, }\KeywordTok{dbinom}\NormalTok{(x, }\DataTypeTok{size =} \DecValTok{20}\NormalTok{, }\DataTypeTok{prob =} \FloatTok{0.50}\NormalTok{), }\DataTypeTok{type =} \StringTok{"h"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{ProbabilityAndDistributions_files/figure-latex/unnamed-chunk-2-1.pdf}

\paragraph{One vs.~Two-tailed test}\label{one-vs.two-tailed-test}

The book is a little vague about 1 vs 2 tailed tests, but it's pretty
clear when supplemented by wikipedia:

\begin{verbatim}
In statistical significance testing, a one-tailed test and a two-tailed test are alternative ways of computing the statistical significance of a parameter inferred from a data set, in terms of a test statistic. A two-tailed test is appropriate if the estimated value may be more than or less than the reference value, for example, whether a test taker may score above or below the historical average. A one-tailed test is appropriate if the estimated value may depart from the reference value in only one direction, for example, whether a machine produces more than one-percent defective products.
\end{verbatim}

\subsection{Quantiles}\label{quantiles}

\begin{verbatim}
The quantile function is the inverse of the cumulative distribution function. The p-quantile is the value with the property that there is probability p of getting a value less than or equal to it. The median is by definition the 50% quantile.
\end{verbatim}

\subsubsection{Use in Confidence
Intervals}\label{use-in-confidence-intervals}

\begin{figure}
\centering
\includegraphics{img/95ci.png}
\caption{}
\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# the mean}
\NormalTok{xbar <-}\StringTok{ }\DecValTok{83}

\NormalTok{sigma <-}\StringTok{ }\DecValTok{12}

\NormalTok{n <-}\StringTok{ }\DecValTok{5}

\NormalTok{sem <-}\StringTok{ }\NormalTok{sigma}\OperatorTok{/}\KeywordTok{sqrt}\NormalTok{(n)}

\NormalTok{xbar }\OperatorTok{+}\StringTok{ }\NormalTok{sem }\OperatorTok{*}\StringTok{ }\KeywordTok{qnorm}\NormalTok{(}\FloatTok{0.025}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 72.48173
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{xbar }\OperatorTok{+}\StringTok{ }\NormalTok{sem }\OperatorTok{*}\StringTok{ }\KeywordTok{qnorm}\NormalTok{(}\FloatTok{0.975}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 93.51827
\end{verbatim}

\paragraph{What does this confidence interval tell
us?}\label{what-does-this-confidence-interval-tell-us}

Supplementing with
\url{http://onlinestatbook.com/2/estimation/confidence.html}:

\begin{verbatim}
 If repeated samples were taken and the 95% confidence interval was computed for each sample, 95% of the intervals would contain the population mean.
\end{verbatim}


\end{document}
